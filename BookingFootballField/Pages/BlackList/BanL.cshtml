@page
@using DataAccess.Repository
@using BusinessObject.Model
@model BookingFootballField.Pages.BlackList.BanModel
@{
    //ViewData["Title"] = "Ban";
}
<h1>Ban</h1>
<div>
    <a asp-page="BlackListHistory">Black list history</a>
</div>
<div>
    <a asp-page="Index">Black list</a>
</div>
@{
    ICustomerRepository customerRepository = new CustomerRepository();
    IBlackListRepository blackListRepository = new BlackListRepository();
    IList<BusinessObject.Model.Customer> listcus = customerRepository.GetList();
    IList<BusinessObject.Model.BlackList> listblack = blackListRepository.GetList();
}
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Customer[0].Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Customer[0].Password)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Customer[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Customer[0].PhoneNumber)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Customer[0].Dob)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Customer[0].Status)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in listcus)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Password)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhoneNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Dob)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Status)
                </td>
                @{
                    if (!item.Status)
                    {
                        foreach (var blacklist in listblack)
                        {
                            if (item.Id == blacklist.CustomerId)
                            {
                                                    <td>
                                                        <a asp-page="/BlackList/Delete" asp-route-id="@blacklist.Id">UnBan</a> |
                                                    </td>
                                break;
                            }
                        }
                    }
                    else
                    {
                                    <td>
                                        <a asp-page="/BlackList/Create" asp-route-id="@item.Id">Ban</a> |
                                    </td>
                    }
                }
            </tr>
        }

    </tbody>
</table>
